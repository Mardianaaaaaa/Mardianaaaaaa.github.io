<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kontak & Ulasan - Wisata Lombok</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 flex flex-col font-sans text-gray-800">

  <header class="bg-gray-900 text-white shadow fixed w-full z-50">
    <nav class="max-w-5xl mx-auto flex justify-between items-center p-3">
      <h1 class="text-lg font-bold">WISATA LOMBOK</h1>
      <ul class="flex gap-5 text-sm font-medium">
        <li><a href="index.html" class="hover:text-blue-400">Beranda</a></li>
        <li><a href="destinasi.html" class="hover:text-blue-400">Destinasi</a></li>
        <li><a href="galery.html" class="hover:text-blue-400">Galeri</a></li>
      </ul>
    </nav>
  </header>

  <div class="h-24"></div>

  <main class="flex-grow max-w-md mx-auto bg-white bg-opacity-95 p-6 rounded-2xl shadow-lg mt-6">
    <h2 class="text-2xl font-bold text-center text-indigo-900 mb-4">üì© Kontak & Ulasan</h2>
    <p class="text-center text-gray-700 mb-5 text-sm leading-relaxed">
      Silakan isi formulir berikut untuk memberikan ulasan atau pesan tentang destinasi wisata yang telah Anda kunjungi.
    </p>

    <form id="reviewForm" class="space-y-4 text-sm">
      <div>
        <label for="name" class="block font-semibold text-indigo-800 mb-1">Nama Lengkap:</label>
        <input type="text" id="name" required
          class="w-full border border-indigo-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-indigo-400 outline-none" />
      </div>

      <div>
        <label for="email" class="block font-semibold text-indigo-800 mb-1">Email:</label>
        <input type="email" id="email" required
          class="w-full border border-indigo-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-indigo-400 outline-none" />
      </div>

      <div>
        <label for="message" class="block font-semibold text-indigo-800 mb-1">Pesan / Ulasan:</label>
        <textarea id="message" rows="3" required
          class="w-full border border-indigo-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-indigo-400 outline-none resize-none"></textarea>
      </div>

      <div>
        <label class="block font-semibold text-indigo-800 mb-1">Rating:</label>
        <div id="ratingStars" class="flex gap-1 text-xl cursor-pointer text-gray-400">
          <span data-rate="1">‚òÖ</span>
          <span data-rate="2">‚òÖ</span>
          <span data-rate="3">‚òÖ</span>
          <span data-rate="4">‚òÖ</span>
          <span data-rate="5">‚òÖ</span>
        </div>
      </div>

      <input type="hidden" id="rating" required>

      <button type="submit"
        class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 rounded-full font-semibold text-sm hover:scale-105 transition-transform shadow-md">
        Kirim Ulasan
      </button>
    </form>
  </main>

  <footer class="bg-gray-900 text-white py-4 text-center mt-10 text-sm">
    <p>2025 Wisata Pulau Lombok.</p>
    <div class="flex justify-center gap-5 mt-2">
      <a href="#" class="hover:text-blue-400">Facebook</a>
      <a href="#" class="hover:text-blue-400">Instagram</a>
      <a href="#" class="hover:text-blue-400">YouTube</a>
    </div>
  </footer>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    const stars = document.querySelectorAll("#ratingStars span");
    const ratingInput = document.getElementById("rating");

    stars.forEach(star => {
      star.addEventListener("click", () => {
        const rate = parseInt(star.dataset.rate);
        ratingInput.value = rate;
        stars.forEach((s, i) => {
          s.classList.toggle("text-yellow-400", i < rate);
          s.classList.toggle("text-gray-400", i >= rate);
        });
      });
    });

    const form = document.getElementById("reviewForm");
    form.addEventListener("submit", e => {
      e.preventDefault();

      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const message = form.message.value.trim();
      const rating = parseInt(ratingInput.value);

      if (!name || !email || !message || !rating) {
        alert("‚ö†Ô∏è Semua kolom wajib diisi!");
        return;
      }

      const review = { name, email, message, rating };
      const existing = JSON.parse(localStorage.getItem(`reviews_${id}`) || "[]");
      existing.push(review);
      localStorage.setItem(`reviews_${id}`, JSON.stringify(existing));

      alert("Terima kasih telah memberikan ulasan!");
      window.location.href = `detail.html?id=${id}`;
    });
  </script>

</body>
</html>
